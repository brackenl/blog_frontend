(this.webpackJsonpblog_frontend=this.webpackJsonpblog_frontend||[]).push([[0],{138:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(11),i=n.n(o),l=n(17),s=n(22),u=n(49),d=function(e){return{type:"SET_USER",user:e}},j=function(){return{type:"REMOVE_USER"}},b=Object(u.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"REMOVE_USER":return{};default:return e}}});var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.c)(b,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return t}(),h=n(27),p=n(14),O=n(197),x=n(176),g=n(179),f=n(181),v=n(41),C=n(182),k=Object(x.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,cursor:"pointer"},homeButton:{}}})),y=Object(l.b)((function(e){return{user:e.user}}),null)((function(e){var t=k(),n=Object(p.f)();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(g.a,{position:"static",children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(v.a,{variant:"h6",className:t.title,onClick:function(){n.push("/")},children:"The Blog"}),e.user.username?Object(a.jsxs)(a.Fragment,{children:[e.user.admin?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{color:"inherit",onClick:function(){n.push("/control-panel")},children:"Control Panel"}),Object(a.jsx)(C.a,{color:"inherit",onClick:function(){n.push("/blogs/new")},children:"New post"})]}):null,Object(a.jsx)(C.a,{color:"inherit",onClick:function(){n.push("/logout")},children:"Log out"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{color:"inherit",onClick:function(){n.push("/login")},children:"Login"}),Object(a.jsx)(C.a,{color:"inherit",onClick:function(){n.push("/signup")},children:"Sign up"})]})]})})})})),w=n(7),N=n(92),S=n.n(N).a.create({baseURL:"https://agile-headland-88411.herokuapp.com"}),T=n(186),_=n(40),F=n(183),L=n(185),E=n(184),B=Object(x.a)({root:{minWidth:275,marginTop:"10px",marginBottom:"20px",backgroundColor:"rgb(242, 242, 242)"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),W=function(e){var t=B(),n=Object(p.f)(),r=e.comments?0===e.comments.length?"No comments":1===e.comments.length?"1 comment":"".concat(e.comments.length," comments"):"0 comments";return Object(a.jsxs)(F.a,{className:t.root,children:[Object(a.jsxs)(E.a,{children:[Object(a.jsx)(v.a,{variant:"h5",component:"h2",children:e.title}),Object(a.jsxs)(v.a,{className:t.pos,color:"textSecondary",children:[e.author," on ",Object(_.a)(new Date(e.timestamp),"dd MMMM yyyy")]}),Object(a.jsx)(v.a,{variant:"body2",component:"p",children:e.content})]}),Object(a.jsx)(L.a,{style:e.hideButton?{display:"none"}:{},children:Object(a.jsx)(C.a,{size:"small",onClick:function(){n.push("/blogs/".concat(e.id))},children:r})})]})},U=function(){var e=Object(r.useState)([]),t=Object(w.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){S.get("/blogs/").then((function(e){c(e.data)}))}),[]),Object(a.jsx)(T.a,{maxWidth:"lg",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsx)("div",{style:{paddingTop:"20px"},children:n.filter((function(e){return e.published})).map((function(e){return Object(a.jsx)(W,{title:e.title,content:e.content,author:e.author.username,timestamp:e.timestamp,comments:e.comments,id:e._id},e._id)}))})})},P=n(198),I=n(187),M=n(188),D=n(189),R=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),z={setUser:d,removeUser:j},q=Object(l.b)((function(e){return{user:e.user}}),z)((function(e){var t=R(),n=Object(p.f)(),c=Object(r.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],s=Object(r.useState)(""),u=Object(w.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(""),m=Object(w.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)(!1),g=Object(w.a)(x,2),f=g[0],v=g[1],k=Object(r.useState)([]),y=Object(w.a)(k,2),N=y[0],_=y[1],F=Object(r.useState)(null),L=Object(w.a)(F,2),E=L[0],B=L[1],W=Object(r.useState)({}),U=Object(w.a)(W,2),z=U[0],q=U[1];Object(r.useEffect)((function(){e.setUser(z),S.defaults.headers.common.Authorization="Bearer ".concat(E)}),[E]);return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsxs)("div",{className:t.formContainer,children:[Object(a.jsx)(P.a,{id:"usernameField",label:"Username",placeholder:"Username",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,onChange:function(e){return l(e.target.value)}}),Object(a.jsx)(P.a,{id:"passwordField",label:"Password",placeholder:"Password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,type:"password",required:!0,onChange:function(e){return j(e.target.value)}}),Object(a.jsx)(P.a,{id:"confirmPasswordField",label:"Confirm password",placeholder:"Password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,type:"password",required:!0,onChange:function(e){return O(e.target.value)}}),f?Object(a.jsx)("div",{className:t.errorList,children:Object(a.jsx)(I.a,{children:N.map((function(e){return Object(a.jsx)(M.a,{children:Object(a.jsx)(D.a,{primary:e.msg,className:t.liText})},e.msg)}))})}):null,Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(){S.post("/auth/signup",{username:i,password:d,confirmPassword:h}).then((function(e){e.data.errors&&(v(!0),_(e.data.errors)),e.data.token&&(q(e.data.user),B(e.data.token),n.push("/"))})).catch((function(e){console.log(e)}))},children:"Sign up"})]})})})})),A=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),H={setUser:d,removeUser:j},V=Object(l.b)((function(e){return{user:e.user}}),H)((function(e){var t=A(),n=Object(p.f)(),c=Object(r.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],s=Object(r.useState)(""),u=Object(w.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)([]),g=Object(w.a)(x,2),f=g[0],v=g[1],k=Object(r.useState)(null),y=Object(w.a)(k,2),N=y[0],_=y[1],F=Object(r.useState)({}),L=Object(w.a)(F,2),E=L[0],B=L[1];Object(r.useEffect)((function(){e.setUser(E),S.defaults.headers.common.Authorization="Bearer ".concat(N)}),[N]);return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsxs)("div",{className:t.formContainer,children:[Object(a.jsx)(P.a,{id:"usernameField",label:"Username",placeholder:"Username",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,onChange:function(e){return l(e.target.value)}}),Object(a.jsx)(P.a,{id:"passwordField",label:"Password",placeholder:"Password",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,type:"password",required:!0,onChange:function(e){return j(e.target.value)}}),h?Object(a.jsx)("div",{className:t.errorList,children:Object(a.jsx)(I.a,{children:f.map((function(e){return Object(a.jsx)(M.a,{children:Object(a.jsx)(D.a,{primary:e.msg,className:t.liText})},e.msg)}))})}):null,Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(){S.post("/auth/login",{username:i,password:d}).then((function(e){e.data.errors&&(O(!0),v(e.data.errors)),e.data.token&&(B(e.data.user),_(e.data.token),n.push("/control-panel"))})).catch((function(e){console.log(e)}))},children:"Log in"})]})})})})),X=n(23),G=Object(x.a)((function(e){return{root:{minWidth:275},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"20px"}}})),J=function(e){var t=e.clicked,n=e.content,c=G(),o=Object(r.useState)(""),i=Object(w.a)(o,2),l=i[0],s=i[1];return Object(r.useEffect)((function(){s(n)}),[]),Object(a.jsx)(F.a,{className:c.root,style:{marginBottom:"5px"},children:Object(a.jsxs)(E.a,{children:[Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,children:"Edit comment"}),Object(a.jsx)(P.a,{id:"commentField",label:"Comment",placeholder:"Comment",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:c.textField,multiline:!0,rows:4,onChange:function(e){return s(e.target.value)},value:l}),Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:c.button,onClick:function(){t(l)},children:"Edit comment"})]})})},K=Object(x.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},commentButton:{marginRight:"10px",padding:"1px 5px",fontSize:"10px"}}})),Q=function(e){var t=e.editComment,n=e.comment,c=e.deleteComment,o=e.user,i=K(),l=Object(r.useState)(!1),s=Object(w.a)(l,2),u=s[0],d=s[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F.a,{className:i.root,style:{marginBottom:"5px",display:u?"none":""},children:Object(a.jsxs)(E.a,{children:[Object(a.jsx)(v.a,{variant:"body2",component:"p",children:n.comment}),Object(a.jsxs)(v.a,{className:i.pos,color:"textSecondary",variant:"caption",children:[n.user.username," on"," ",Object(_.a)(new Date(n.timestamp),"dd MMMM yyyy 'at' HH:mm")," ",n.edited?"(Last edited on ".concat(Object(_.a)(new Date(n.editedTimestamp),"dd MMMM yyyy 'at' HH:mm"),")"):null]}),o.username===n.user.username?Object(a.jsxs)("div",{style:{marginTop:"5px"},children:[Object(a.jsx)(C.a,{variant:"outlined",color:"primary",size:"small",className:i.commentButton,onClick:function(){d(!u)},children:"Edit"}),Object(a.jsx)(C.a,{variant:"outlined",color:"secondary",size:"small",className:i.commentButton,onClick:function(){return c(n._id)},children:"Delete"})]}):null]})},n._id),u?Object(a.jsx)(J,{content:n.comment,clicked:function(e){t(n._id,e),d(!1)}}):null]})},Y=Object(x.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},commentButton:{marginRight:"10px",padding:"1px 5px",fontSize:"10px"}}})),Z=function(e){var t=e.user,n=e.comments,r=e.deleteComment,c=e.editComment,o=Y(),i=Object(a.jsx)(F.a,{className:o.root,style:{marginBottom:"5px"},children:Object(a.jsx)(E.a,{children:Object(a.jsx)(v.a,{variant:"body2",component:"p",children:"Be the first to comment!"})})});return n.length>0&&(i=n.map((function(e){return Object(a.jsx)(Q,{comment:e,deleteComment:r,user:t,editComment:c},e._id)}))),i},$=Object(x.a)((function(e){return{root:{minWidth:275},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"20px"}}})),ee=function(e){var t=e.clicked,n=(e.blogId,$()),c=Object(r.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1];return Object(a.jsx)(F.a,{className:n.root,style:{marginBottom:"5px"},children:Object(a.jsxs)(E.a,{children:[Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,children:"Submit a comment"}),Object(a.jsx)(P.a,{id:"commentField",label:"Comment",placeholder:"Comment",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:n.textField,multiline:!0,rows:4,onChange:function(e){return l(e.target.value)},value:i}),Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:n.button,onClick:function(){t(i),l("")},children:"Submit comment"})]})})},te=(n(138),Object(l.b)((function(e){return{user:e.user}}),null)((function(e){var t=Object(p.g)().blogId,n=Object(r.useState)(null),c=Object(w.a)(n,2),o=c[0],i=c[1];Object(r.useEffect)((function(){S.get("/blogs/".concat(t)).then((function(e){i(e.data)}))}),[t]);return o?Object(a.jsxs)(T.a,{maxWidth:"lg",style:{backgroundColor:"white",height:"100vh",paddingTop:"2px"},children:[Object(a.jsx)(W,{title:o.title,content:o.content,author:o.author.username,timestamp:o.timestamp,id:o._id,hideButton:!0},o._id),Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,style:{marginLeft:8},children:"Comments"}),Object(a.jsx)(Z,{comments:o.comments,user:e.user,deleteComment:function(e){S.delete("/blogs/".concat(t,"/comments/").concat(e)).then((function(t){var n=Object(h.a)({},o),a=n.comments.filter((function(t){return t._id!==e}));n.comments=a,i(n)}))},editComment:function(e,n){S.put("/blogs/".concat(t,"/comments/").concat(e),{comment:n}).then((function(t){console.log(t.data);var n=Object(h.a)({},o),a=n.comments.findIndex((function(t){return t._id===e}));n.comments[a]=t.data,i(n)}))}}),e.user.username?Object(a.jsx)(ee,{clicked:function(e){S.post("/blogs/".concat(t,"/comments"),{comment:e}).then((function(e){var t=Object(h.a)(Object(h.a)({},o),{},{comments:[].concat(Object(X.a)(o.comments),[e.data])});i(t)}))},blogId:t}):Object(a.jsx)(v.a,{variant:"body1",component:"p",style:{margin:"20px 0 20px  8px"},children:"Log in to comment on this post!"})]}):Object(a.jsx)("div",{className:"loader",children:"Loading..."})}))),ne=n(190),ae=n(200),re=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),ce={setUser:d,removeUser:j},oe=Object(l.b)((function(e){return{user:e.user}}),ce)((function(e){var t=re(),n=Object(p.f)(),c=Object(r.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],s=Object(r.useState)(""),u=Object(w.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)([]),g=Object(w.a)(x,2),f=g[0],v=g[1],k=Object(r.useState)(""),y=Object(w.a)(k,2),N=y[0],_=y[1],F=Object(r.useState)(!1),L=Object(w.a)(F,2),E=L[0],B=L[1];e.location.state||n.push("/"),Object(r.useEffect)((function(){e.location.state&&(l(e.location.state.title),j(e.location.state.content),B(e.location.state.published),_("/blogs/".concat(e.location.state._id)))}),[]);return e.user.username||n.push("/login"),Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsxs)("div",{className:t.formContainer,children:[Object(a.jsx)(P.a,{id:"titleField",label:"Title",placeholder:"Title",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,onChange:function(e){return l(e.target.value)},value:i}),Object(a.jsx)(P.a,{id:"contentField",label:"Content",placeholder:"Content",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,multiline:!0,rows:6,onChange:function(e){return j(e.target.value)},value:d}),h?Object(a.jsx)("div",{className:t.errorList,children:Object(a.jsx)(I.a,{children:f.map((function(e){return Object(a.jsx)(M.a,{children:Object(a.jsx)(D.a,{primary:e.msg,className:t.liText})},e.msg)}))})}):null,Object(a.jsx)(ne.a,{control:Object(a.jsx)(ae.a,{checked:E,onChange:function(){B(!E)},name:"checkedB",color:"primary"}),label:"Published",style:{marginLeft:-4}}),Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(){S({method:"put",url:N,data:{title:i,content:d,published:E}}).then((function(e){e.data.errors&&(O(!0),v(e.data.errors)),e.data.content&&n.push("/control-panel")})).catch((function(e){console.log(e)}))},children:"Update blog"})]})})})})),ie=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),le={setUser:d,removeUser:j},se=Object(l.b)((function(e){return{user:e.user}}),le)((function(e){var t=ie(),n=Object(p.f)(),c=Object(r.useState)(""),o=Object(w.a)(c,2),i=o[0],l=o[1],s=Object(r.useState)(""),u=Object(w.a)(s,2),d=u[0],j=u[1],b=Object(r.useState)(!1),m=Object(w.a)(b,2),h=m[0],O=m[1],x=Object(r.useState)([]),g=Object(w.a)(x,2),f=g[0],v=g[1];return e.user.username||n.push("/login"),Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsxs)("div",{className:t.formContainer,children:[Object(a.jsx)(P.a,{id:"titleField",label:"Title",placeholder:"Title",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,onChange:function(e){return l(e.target.value)},value:i}),Object(a.jsx)(P.a,{id:"contentField",label:"Content",placeholder:"Content",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",className:t.textField,required:!0,multiline:!0,rows:6,onChange:function(e){return j(e.target.value)},value:d}),h?Object(a.jsx)("div",{className:t.errorList,children:Object(a.jsx)(I.a,{children:f.map((function(e){return Object(a.jsx)(M.a,{children:Object(a.jsx)(D.a,{primary:e.msg,className:t.liText})},e.msg)}))})}):null,Object(a.jsx)(C.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(){S({method:"post",url:"/blogs/",data:{title:i,content:d}}).then((function(e){e.data.errors&&(O(!0),v(e.data.errors)),e.data.content&&n.push("/control-panel")})).catch((function(e){console.log(e)}))},children:"Save blog"})]})})})})),ue=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),de={setUser:d,removeUser:j},je=Object(l.b)(null,de)((function(e){var t=e.removeUser,n=ue(),c=Object(p.f)();return Object(r.useEffect)((function(){t(),S.defaults.headers.common.Authorization="",setTimeout((function(){c.push("/")}),500)}),[t,c]),Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:Object(a.jsx)(v.a,{variant:"h5",component:"h2",style:{textAlign:"center",marginTop:"50px"},children:"Thanks for visting the blog!"})})})})),be=n(196),me=n(191),he=n(93),pe=n.n(he),Oe=n(95),xe=n.n(Oe),ge=n(96),fe=n.n(ge),ve=n(94),Ce=n.n(ve),ke=n(201),ye=n(195),we=n(193),Ne=n(194),Se=n(192);function Te(e){var t=e.open,n=e.handleClose,r=e.handleDeleteClick,c=e.id;return Object(a.jsx)("div",{children:Object(a.jsxs)(ke.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Se.a,{id:"alert-dialog-title",children:"Delete post"}),Object(a.jsx)(we.a,{children:Object(a.jsx)(Ne.a,{id:"alert-dialog-description",children:"Are you sure that you want to delete this post?"})}),Object(a.jsxs)(ye.a,{children:[Object(a.jsx)(C.a,{onClick:n,color:"primary",children:"Cancel"}),Object(a.jsx)(C.a,{onClick:function(){r(c),n()},color:"secondary",autoFocus:!0,children:"Delete"})]})]})})}var _e=function(e){var t=e.filteredBlog,n=e.handleEditClick,c=e.handlePublishClick,o=e.handleDeleteClick,i=e.unpublished,l=Object(r.useState)(!1),s=Object(w.a)(l,2),u=s[0],d=s[1],j=function(){d(!0)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te,{open:u,handleClickOpen:j,handleClose:function(){d(!1)},handleDeleteClick:o,id:t._id}),Object(a.jsxs)(M.a,{children:[Object(a.jsx)(D.a,{primary:t.title,secondary:Object(_.a)(new Date(t.timestamp),"dd MMMM yyyy 'at' HH:mm")}),Object(a.jsxs)(be.a,{children:[i?Object(a.jsx)(me.a,{edge:"end","aria-label":"publish",onClick:function(){return c(t._id)},children:Object(a.jsx)(pe.a,{})}):Object(a.jsx)(me.a,{edge:"end","aria-label":"undo-publish",onClick:function(){return c(t._id)},children:Object(a.jsx)(Ce.a,{})}),Object(a.jsx)(me.a,{edge:"end","aria-label":"edit",onClick:function(){return n(t._id)},children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(me.a,{edge:"end","aria-label":"delete",onClick:j,children:Object(a.jsx)(fe.a,{})})]})]})]})},Fe=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:8},button:{margin:8,width:"100%"},formContainer:{marginTop:"80px"},errorList:{backgroundColor:e.palette.background.paper},liText:{color:"red"}}})),Le=Object(l.b)((function(e){return{user:e.user}}),null)((function(e){var t=Fe(),n=Object(p.f)(),c=Object(r.useState)([]),o=Object(w.a)(c,2),i=o[0],l=o[1];e.user.username||n.push("/"),Object(r.useEffect)((function(){S.get("/blogs").then((function(e){return l(e.data)}))}),[]);var s=function(e){var t=i.find((function(t){return t._id===e}));n.push({pathname:"/blogs/".concat(e,"/edit"),state:t})},u=function(e){var t=i.find((function(t){return t._id===e})),n=Object(h.a)(Object(h.a)({},t),{},{published:!t.published});S.put("/blogs/".concat(e),n).then((function(e){var t=i.findIndex((function(t){return t._id===e.data._id})),a=Object(X.a)(i);a[t]=n,l(a)}))},d=function(e){S.delete("/blogs/".concat(e)).then((function(t){var n=i.filter((function(t){return t._id!==e}));l(n)}))},j=i.filter((function(t){return t.author.username===e.user.username&&t.published})),b=i.filter((function(t){return t.author.username===e.user.username&&!t.published}));return Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(T.a,{maxWidth:"sm",style:{backgroundColor:"white",height:"100vh",marginTop:"2px"},children:[Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,style:{marginLeft:8,paddingTop:20},children:"Published blogs"}),Object(a.jsx)("div",{children:Object(a.jsx)(I.a,{children:j.map((function(e){return Object(a.jsx)(_e,{filteredBlog:e,handleEditClick:s,handlePublishClick:u,handleDeleteClick:d},e._id)}))})}),Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,style:{marginLeft:8,paddingTop:20},children:"Unpublished blogs"}),Object(a.jsx)("div",{children:Object(a.jsx)(I.a,{children:b.map((function(e){return Object(a.jsx)(_e,{filteredBlog:e,handleEditClick:s,handlePublishClick:u,handleDeleteClick:d,unpublished:!0},e._id)}))})})]})})})),Ee=function(){return Object(a.jsxs)("div",{className:"App",style:{backgroundColor:"rgb(242, 242, 242)"},children:[Object(a.jsx)(O.a,{}),Object(a.jsx)(y,{}),Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{path:"/blogs/new",children:Object(a.jsx)(se,{})}),Object(a.jsx)(p.a,{path:"/blogs/:blogId/edit",render:function(e){return Object(a.jsx)(oe,Object(h.a)({},e))}}),Object(a.jsx)(p.a,{path:"/blogs/:blogId",children:Object(a.jsx)(te,{})}),Object(a.jsx)(p.a,{path:"/login",children:Object(a.jsx)(V,{})}),Object(a.jsx)(p.a,{path:"/signup",children:Object(a.jsx)(q,{})}),Object(a.jsx)(p.a,{path:"/logout",children:Object(a.jsx)(je,{})}),Object(a.jsx)(p.a,{path:"/control-panel",children:Object(a.jsx)(Le,{})}),Object(a.jsx)(p.a,{path:"/",children:Object(a.jsx)(U,{})})]})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{children:Object(a.jsx)(l.a,{store:m,children:Object(a.jsx)(Ee,{})})})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.72989f2a.chunk.js.map